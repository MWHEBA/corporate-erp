# Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙØ¹Ø§Øª ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ø§Ù„ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„
# Comprehensive Financial Payment System Guide

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª
1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
2. [Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©](#Ø§Ù„Ù†Ù…Ø§Ø°Ø¬-Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©)
3. [ØªØ¯ÙÙ‚ Ø§Ù„Ø¯ÙØ¹Ø§Øª](#ØªØ¯ÙÙ‚-Ø§Ù„Ø¯ÙØ¹Ø§Øª)
4. [Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ](#Ø§Ù„Ù†Ø¸Ø§Ù…-Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ)
5. [Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø§Øª](#Ø§Ù„Ø®Ø¯Ù…Ø§Øª-ÙˆØ§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø§Øª)
6. [Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø²Ø§Ù…Ù†Ø©](#Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª-ÙˆØ§Ù„Ù…Ø²Ø§Ù…Ù†Ø©)
7. [Ø¯Ù…Ø¬ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª](#Ø¯Ù…Ø¬-Ù†Ø¸Ø§Ù…-Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª)

---

## Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

### Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ ÙŠØªÙƒÙˆÙ† Ù…Ù† Ø«Ù„Ø§Ø« Ø·Ø¨Ù‚Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø·Ø¨Ù‚Ø© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (Views & Templates)                      â”‚
â”‚  - DetailedPaymentView                                  â”‚
â”‚  - FeePaymentListView / FeePaymentCreateView           â”‚
â”‚  - StudentFeeListView / StudentFeeDetailView           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø·Ø¨Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© (Processors & Services)                 â”‚
â”‚  - ProductPaymentProcessor                              â”‚
â”‚  - PaymentIntegrationService                            â”‚
â”‚  - AccountingIntegrationService                         â”‚
â”‚  - JournalEntryService                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Models)                                â”‚
â”‚  - StudentFee (Ø§Ù„Ø±Ø³ÙˆÙ…)                                  â”‚
â”‚  - FeePayment (Ø§Ù„Ø¯ÙØ¹Ø§Øª)                                 â”‚
â”‚  - JournalEntry (Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©)                     â”‚
â”‚  - ChartOfAccounts (Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

### 1. StudentFee (Ø±Ø³ÙˆÙ… Ø§Ù„Ø·Ø§Ù„Ø¨)
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `students/models.py`

```python
class StudentFee(models.Model):
    """Ø±Ø³ÙˆÙ… Ø§Ù„Ø·Ø§Ù„Ø¨ - Ù†Ù…ÙˆØ°Ø¬ Ù…ÙˆØ­Ø¯ Ù„Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø±Ø³ÙˆÙ…"""
    
    # Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    student: ForeignKey(Student)           # Ø§Ù„Ø·Ø§Ù„Ø¨
    fee_type: ForeignKey(FeeType)          # Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³ÙˆÙ… (Ø¯Ø±Ø§Ø³ÙŠØ©ØŒ Ø¨Ø§ØµØŒ Ø¥Ù„Ø®)
    academic_year: ForeignKey(AcademicYear) # Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
    
    # Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…Ø§Ù„ÙŠØ©
    total_amount: Decimal                  # Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
    down_payment: Decimal = 0              # Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ù‚Ø¯Ù…
    
    # Ø§Ù„ØªÙ‚Ø³ÙŠØ·
    installments_count: int = 1            # Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ø·
    due_date: DateField                    # ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚
    
    # Ø§Ù„Ø­Ø§Ù„Ø©
    status: str                            # pending, partially_paid, paid, overdue, cancelled
    
    # Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
    journal_entry: ForeignKey(JournalEntry) # Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
```

**Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©:**
- `remaining_amount`: Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ = total_amount - down_payment
- `installment_amount`: Ù…Ø¨Ù„Øº Ø§Ù„Ù‚Ø³Ø· = remaining_amount / installments_count
- `paid_amount`: Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹ Ù…Ù† FeePayment
- `outstanding_amount`: Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚ = total_amount - paid_amount
- `payment_progress_percentage`: Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙ‚Ø¯Ù… ÙÙŠ Ø§Ù„Ø³Ø¯Ø§Ø¯

**Ø§Ù„Ø­Ø§Ù„Ø§Øª:**
- `pending`: Ù…Ø³ØªØ­Ù‚ ÙˆÙ„Ù… ÙŠØªÙ… Ø¯ÙØ¹ Ø´ÙŠØ¡
- `partially_paid`: ØªÙ… Ø¯ÙØ¹ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø±Ø³ÙˆÙ…
- `paid`: ØªÙ… Ø¯ÙØ¹ Ø§Ù„Ø±Ø³ÙˆÙ… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
- `overdue`: Ù…ØªØ£Ø®Ø± Ø¹Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªØ­Ù‚Ø§Ù‚
- `cancelled`: Ù…Ù„ØºÙŠ

---

### 2. FeePayment (Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ…)
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `students/models.py`

```python
class FeePayment(models.Model):
    """Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… - Ø³Ø¬Ù„ ÙƒÙ„ Ø¯ÙØ¹Ø©"""
    
    # Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
    student_fee: ForeignKey(StudentFee)    # Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©
    
    # Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙØ¹Ø©
    amount: Decimal                        # Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹
    payment_date: DateField                # ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹
    payment_method: str                    # cash, bank_transfer
    reference_number: str                  # Ø±Ù‚Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨Ù†ÙƒÙŠ
    
    # Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
    journal_entry: ForeignKey(JournalEntry) # Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
    
    # Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©
    created_by: ForeignKey(User)
    notes: TextField
```

**Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹:**
- `cash`: Ø¯ÙØ¹ Ù†Ù‚Ø¯ÙŠ
- `bank_transfer`: ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ
- `refund`: Ù…Ø±Ø¬Ø¹ (Ù…Ø¨Ù„Øº Ø³Ø§Ù„Ø¨)

---

### 3. InstallmentPlan (Ø®Ø·Ø© Ø§Ù„ØªÙ‚Ø³ÙŠØ·)
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `students/models.py`

```python
class InstallmentPlan(models.Model):
    """Ø®Ø·Ø© ØªÙ‚Ø³ÙŠØ· Ø§Ù„Ø±Ø³ÙˆÙ…"""
    
    student_fee: OneToOneField(StudentFee)
    total_amount: Decimal                  # Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ù‚Ø³Ø·
    installments_count: int                # Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ø·
    first_due_date: DateField              # ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚Ø³Ø· Ø§Ù„Ø£ÙˆÙ„
```

**Ø§Ù„Ø®ØµØ§Ø¦Øµ:**
- `installment_amount`: Ù…Ø¨Ù„Øº Ø§Ù„Ù‚Ø³Ø· Ø§Ù„ÙˆØ§Ø­Ø¯
- `get_installment_due_dates()`: ØªÙˆØ§Ø±ÙŠØ® Ø§Ø³ØªØ­Ù‚Ø§Ù‚ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ø·
- `get_paid_installments_count()`: Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ø· Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø©

---

### 4. JournalEntry (Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©)
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `financial/models/journal_entry.py`

```python
class JournalEntry(models.Model):
    """Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©"""
    
    number: str                            # Ø±Ù‚Ù… Ø§Ù„Ù‚ÙŠØ¯ (ÙØ±ÙŠØ¯)
    date: DateField                        # ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚ÙŠØ¯
    entry_type: str                        # manual, automatic, adjustment, etc.
    status: str                            # draft, posted, cancelled
    reference: str                         # Ù…Ø±Ø¬Ø¹ Ø§Ù„Ù‚ÙŠØ¯
    description: TextField                 # ÙˆØµÙ Ø§Ù„Ù‚ÙŠØ¯
    
    # Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©
    accounting_period: ForeignKey(AccountingPeriod)
    
    # Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©
    created_by: ForeignKey(User)
```

**Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù‚ÙŠÙˆØ¯:**
- `automatic`: Ù‚ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ (Ù…Ù† Ø§Ù„Ø±Ø³ÙˆÙ… Ø£Ùˆ Ø§Ù„Ø¯ÙØ¹Ø§Øª)
- `manual`: Ù‚ÙŠØ¯ ÙŠØ¯ÙˆÙŠ
- `adjustment`: Ù‚ÙŠØ¯ ØªØµØ­ÙŠØ­ÙŠ
- `tuition_fee`: Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ©
- `bus_fee`: Ø±Ø³ÙˆÙ… Ø¨Ø§Øµ
- `product_delivery`: ØªØ³Ù„ÙŠÙ… Ù…Ù†ØªØ¬Ø§Øª

---

### 5. ChartOfAccounts (Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª)
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `financial/models/chart_of_accounts.py`

```python
class ChartOfAccounts(models.Model):
    """Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©"""
    
    code: str                              # ÙƒÙˆØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨ (Ù…Ø«Ù„: 10100)
    name: str                              # Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨
    account_type: ForeignKey(AccountType)  # Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨
    
    # Ø§Ù„Ø®ØµØ§Ø¦Øµ
    is_cash_account: bool                  # Ø­Ø³Ø§Ø¨ Ù†Ù‚Ø¯ÙŠ
    is_bank_account: bool                  # Ø­Ø³Ø§Ø¨ Ø¨Ù†ÙƒÙŠ
    is_active: bool
```

**Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:**
- `10100`: Ø§Ù„Ø®Ø²Ù†Ø© (Cash)
- `10200`: Ø§Ù„Ø¨Ù†Ùƒ (Bank)
- `10300`: Ù…Ø¯ÙŠÙ†Ùˆ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ± (Accounts Receivable)
- `40100`: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© (Tuition Revenue)
- `41020`: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
- `41021`: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨Ø§Øµ
- `41022`: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù†Ø´Ø·Ø©



---

## ØªØ¯ÙÙ‚ Ø§Ù„Ø¯ÙØ¹Ø§Øª

### ØªØ¯ÙÙ‚ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³ÙˆÙ…
```
1. Ø¥Ù†Ø´Ø§Ø¡ StudentFee
   â†“
2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… Ø§Ù„ØªÙƒØ±Ø§Ø± (unique_together: student, fee_type, academic_year)
   â†“
3. Ø¥Ù†Ø´Ø§Ø¡ InstallmentPlan ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
   â†“
4. Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠ (JournalEntry)
   â†“
5. Ø±Ø¨Ø· Ø§Ù„Ù‚ÙŠØ¯ Ø¨Ù€ StudentFee
```

**Ù…Ø«Ø§Ù„:**
```python
# Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ©
fee = StudentFee.objects.create(
    student=student,
    fee_type=tuition_fee_type,
    academic_year=academic_year,
    total_amount=Decimal('5000.00'),
    down_payment=Decimal('1000.00'),
    installments_count=4,
    due_date=date(2024, 9, 1)
)
# Ø³ÙŠØªÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:
# - Ø¥Ù†Ø´Ø§Ø¡ InstallmentPlan
# - Ø¥Ù†Ø´Ø§Ø¡ JournalEntry
```

### ØªØ¯ÙÙ‚ Ø§Ù„Ø¯ÙØ¹Ø§Øª
```
1. Ø¥Ù†Ø´Ø§Ø¡ FeePayment
   â†“
2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø¨Ù„Øº
   - Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚
   - Ù„Ø§ ÙŠÙƒÙˆÙ† ØµÙØ±
   â†“
3. Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠ (JournalEntry)
   - Ù…Ù†: Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®Ø²Ù†Ø©/Ø§Ù„Ø¨Ù†Ùƒ (Ù…Ø¯ÙŠÙ†)
   - Ø¥Ù„Ù‰: Ø­Ø³Ø§Ø¨ Ù…Ø¯ÙŠÙ†Ùˆ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ± (Ø¯Ø§Ø¦Ù†)
   â†“
4. ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© StudentFee
   - Ø¥Ø°Ø§ paid_amount >= total_amount â†’ status = 'paid'
   - Ø¥Ø°Ø§ paid_amount > 0 â†’ status = 'partially_paid'
   â†“
5. Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© (Signal)
```

**Ù…Ø«Ø§Ù„:**
```python
# ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹Ø©
payment = FeePayment.objects.create(
    student_fee=fee,
    amount=Decimal('1500.00'),
    payment_date=date.today(),
    payment_method='cash',
    reference_number='CHK001',
    created_by=user
)
# Ø³ÙŠØªÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:
# - Ø¥Ù†Ø´Ø§Ø¡ JournalEntry
# - ØªØ­Ø¯ÙŠØ« status ÙÙŠ StudentFee
# - ØªØ´ØºÙŠÙ„ Signal Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©
```

### ØªØ¯ÙÙ‚ Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
```
1. Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ (DetailedPaymentView)
   â†“
2. Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…Ø±Ø§Ø¯ Ø¯ÙØ¹Ù‡Ø§
   â†“
3. Ø¥Ù†Ø´Ø§Ø¡ FeePayment (Ø¯ÙØ¹Ø© Ù…ÙˆØ­Ø¯Ø©)
   â†“
4. ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¯ÙØ¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (ProductPayment)
   - ProductPaymentProcessor.process_detailed_payment()
   â†“
5. ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© ÙƒÙ„ Ù…Ù†ØªØ¬
   - paid, partially_paid, pending
   â†“
6. ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© StudentFee
```

---

## Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ

### Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

#### 1. Ù‚ÙŠØ¯ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
**Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ StudentFee:**
```
Ù…Ù† Ø­Ù€/ Ù…Ø¯ÙŠÙ†Ùˆ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ± (10300)    [Ù…Ø¯ÙŠÙ†]
    Ø¥Ù„Ù‰ Ø­Ù€/ Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… (40100)    [Ø¯Ø§Ø¦Ù†]
```

**Ø§Ù„ÙƒÙˆØ¯:**
```python
# ÙÙŠ JournalEntryService.create_student_fee_entry()
JournalEntryLine.objects.create(
    journal_entry=entry,
    account=parent_account,      # 10300
    debit=student_fee.total_amount,
    credit=Decimal('0.00')
)

JournalEntryLine.objects.create(
    journal_entry=entry,
    account=revenue_account,     # 40100
    debit=Decimal('0.00'),
    credit=student_fee.total_amount
)
```

#### 2. Ù‚ÙŠØ¯ Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ù†Ù‚Ø¯ÙŠØ©
**Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ FeePayment (Ù†Ù‚Ø¯ÙŠ):**
```
Ù…Ù† Ø­Ù€/ Ø§Ù„Ø®Ø²Ù†Ø© (10100)                [Ù…Ø¯ÙŠÙ†]
    Ø¥Ù„Ù‰ Ø­Ù€/ Ù…Ø¯ÙŠÙ†Ùˆ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ± (10300) [Ø¯Ø§Ø¦Ù†]
```

#### 3. Ù‚ÙŠØ¯ Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø¨Ù†ÙƒÙŠØ©
**Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ FeePayment (ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ):**
```
Ù…Ù† Ø­Ù€/ Ø§Ù„Ø¨Ù†Ùƒ (10200)                 [Ù…Ø¯ÙŠÙ†]
    Ø¥Ù„Ù‰ Ø­Ù€/ Ù…Ø¯ÙŠÙ†Ùˆ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ± (10300) [Ø¯Ø§Ø¦Ù†]
```

#### 4. Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø¬Ø¹Ø§Øª
**Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ FeePayment Ø¨Ù…Ø¨Ù„Øº Ø³Ø§Ù„Ø¨:**
```
Ù…Ù† Ø­Ù€/ Ù…Ø¯ÙŠÙ†Ùˆ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ± (10300)    [Ù…Ø¯ÙŠÙ†]
    Ø¥Ù„Ù‰ Ø­Ù€/ Ø§Ù„Ø®Ø²Ù†Ø©/Ø§Ù„Ø¨Ù†Ùƒ (10100/10200) [Ø¯Ø§Ø¦Ù†]
```

### Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
```
41020: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
41021: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨Ø§Øµ
41022: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù†Ø´Ø·Ø©
41023: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…
41029: Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø£Ø®Ø±Ù‰
```

---

## Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø§Øª

### 1. JournalEntryService
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `financial/services/journal_service.py`

**Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
```python
class JournalEntryService:
    def create_student_fee_entry(student_fee) -> JournalEntry
    def create_payment_entry(fee_payment) -> JournalEntry
    def create_adjustment_entry(student_fee, old_amount) -> JournalEntry
```

### 2. PaymentIntegrationService
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `financial/services/payment_integration_service.py`

**Ø§Ù„ÙˆØ¸Ø§Ø¦Ù:**
```python
class PaymentIntegrationService:
    @classmethod
    def process_payment(payment, payment_type, user) -> Dict
    # Ù…Ø¹Ø§Ù„Ø¬Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ø¯ÙØ¹Ø© ÙˆØ±Ø¨Ø·Ù‡Ø§ Ø¨Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ
    
    @classmethod
    def _validate_payment_data(payment, payment_type)
    # Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙØ¹Ø©
```

### 3. AccountingIntegrationService
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `financial/services/accounting_integration_service.py`

**Ø§Ù„ÙˆØ¸Ø§Ø¦Ù:**
```python
class AccountingIntegrationService:
    @classmethod
    def create_fee_journal_entry(student_fee) -> JournalEntry
    # Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠ Ù„Ù„Ø±Ø³ÙˆÙ…
    
    @classmethod
    def create_fee_adjustment_entry(student_fee, old_amount, description, user)
    # Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ØªØµØ­ÙŠØ­ÙŠ
```

### 4. ProductPaymentProcessor
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `student_products/processors.py`

**Ø§Ù„ÙˆØ¸Ø§Ø¦Ù:**
```python
class ProductPaymentProcessor:
    @staticmethod
    def process_detailed_payment(student_fee, payment_allocations, payment_entry, user)
    # Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª
    
    @staticmethod
    def _update_product_payment_status(product_request)
    # ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹ Ù„Ù„Ù…Ù†ØªØ¬
```

---

## Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø²Ø§Ù…Ù†Ø© - Phase 2 Migration

### Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯: Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­ÙƒÙˆÙ…Ø©

#### Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´Ø§Ù…Ù„ (Phase 2)
ØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ© Ø¨Ù†Ø¸Ø§Ù… Ø¥Ø´Ø§Ø±Ø§Øª Ù…Ø­ÙƒÙˆÙ… ÙŠÙˆÙØ±:
- **Ø­ÙˆÙƒÙ…Ø© Ø´Ø§Ù…Ù„Ø©** Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªØ­ÙƒÙ… ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©
- **ØªØ­Ø³ÙŠÙ† Ø£Ø¯Ø§Ø¡ 68.5%** ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
- **ØªØ³Ø¬ÙŠÙ„ Ø´Ø§Ù…Ù„** Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
- **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ØªÙ‚Ø¯Ù…Ø©** Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯

### Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ÙˆØ­Ø¯Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

#### 1. FeeService - Ø®Ø¯Ù…Ø© Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `students/services/fee_service.py`

```python
from students.services.fee_service import FeeService

class FeeService:
    """Ø®Ø¯Ù…Ø© Ù…ÙˆØ­Ø¯Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø±Ø³ÙˆÙ…"""
    
    def create_fees_for_enrollment(self, student, academic_year, user=None):
        """Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³ÙˆÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ Ø¹Ù†Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„"""
        
    def calculate_outstanding_fees(self, student, fee_types=None):
        """Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø© Ù„Ù„Ø·Ø§Ù„Ø¨"""
        
    def sync_fees_with_financial(self, student_fees, user=None):
        """Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø±Ø³ÙˆÙ… Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ"""
        
    def get_parent_financial_summary(self, parent):
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ø®Øµ Ù…Ø§Ù„ÙŠ Ø´Ø§Ù…Ù„ Ù„ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±"""

# Ù…Ø«Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
fee_service = FeeService()

# Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³ÙˆÙ… Ù„Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯
fees = fee_service.create_fees_for_enrollment(
    student=student_obj,
    academic_year=current_year,
    user=request.user
)

# Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª
outstanding = fee_service.calculate_outstanding_fees(
    student=student_obj,
    fee_types=['tuition', 'transportation', 'activities']
)
```

#### 2. PaymentService - Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
**Ø§Ù„Ù…ÙˆÙ‚Ø¹:** `students/services/payment_service.py`

```python
from students.services.payment_service import PaymentService

class PaymentService:
    """Ø®Ø¯Ù…Ø© Ù…ÙˆØ­Ø¯Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª"""
    
    def __init__(self, enable_audit=True):
        """ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø®Ø¯Ù…Ø© Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„"""
        
    def process_payment(self, student_fee, amount, payment_date, user, **kwargs):
        """Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„"""
        
    def process_refund(self, original_payment, refund_amount, reason, user):
        """Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ù…Ø¹ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©"""
        
    def update_balances(self, payment, user, governance_context=None):
        """ØªØ­Ø¯ÙŠØ« Ø£Ø±ØµØ¯Ø© ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± ÙˆØ§Ù„Ø·Ø§Ù„Ø¨"""

# Ù…Ø«Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
payment_service = PaymentService(enable_audit=True)

# Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
payment_result = payment_service.process_payment(
    student_fee=fee_obj,
    amount=Decimal('1500.00'),
    payment_date=date.today(),
    payment_method='cash',
    user=request.user
)
```

### Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­ÙƒÙˆÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

#### Signal: post_save Ø¹Ù„Ù‰ StudentFee (Ù…Ø­ÙƒÙˆÙ…)
**Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯:** `financial/signals/governed_fee_signals.py`

```python
@critical_signal_handler(
    "student_fee_financial_sync",
    "Sync StudentFee with financial system using FeeService"
)
@receiver(post_save, sender='students.StudentFee')
def sync_student_fee_to_financial_governed(sender, instance, created, **kwargs):
    """
    Ø¥Ø´Ø§Ø±Ø© Ù…Ø­ÙƒÙˆÙ…Ø© Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø±Ø³ÙˆÙ… Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ
    
    Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:
    - Ø§Ø³ØªØ®Ø¯Ø§Ù… FeeService Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
    - ØªØ³Ø¬ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù…Ø¹ AuditService
    - ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù…Ø¹ transaction.on_commit
    - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ØªÙ‚Ø¯Ù…Ø© Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
    """
    if not created:
        return
    
    # ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ - ØªØ£Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­ØªÙ‰ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©
    transaction.on_commit(
        lambda: _process_student_fee_sync(instance, kwargs.get('user'))
    )
```

#### Signal: post_save Ø¹Ù„Ù‰ FeePayment (Ù…Ø­ÙƒÙˆÙ…)
**Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯:** `financial/signals/governed_fee_signals.py`

```python
@critical_signal_handler(
    "fee_payment_financial_sync", 
    "Sync FeePayment with financial system using PaymentService"
)
@receiver(post_save, sender='students.FeePayment')
def sync_fee_payment_to_financial_governed(sender, instance, created, **kwargs):
    """
    Ø¥Ø´Ø§Ø±Ø© Ù…Ø­ÙƒÙˆÙ…Ø© Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ
    
    Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª:
    1. ØªØ®Ø·ÙŠ Ø±Ø³ÙˆÙ… Ø§Ù„Ù†Ù‚Ù„ (ØªØªÙ… Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§ Ù…Ù†ÙØµÙ„Ø©)
    2. Ø§Ø³ØªØ®Ø¯Ø§Ù… PaymentService Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©
    3. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    4. ØªØ³Ø¬ÙŠÙ„ Ù…ÙØµÙ„ Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª
    """
    if not created:
        return
    
    # ØªØ®Ø·ÙŠ Ø±Ø³ÙˆÙ… Ø§Ù„Ù†Ù‚Ù„ - ØªØªÙ… Ù…Ø¹Ø§Ù„Ø¬ØªÙ‡Ø§ ÙÙŠ Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù†Ù‚Ù„
    if (instance.student_fee and 
        instance.student_fee.fee_type and 
        instance.student_fee.fee_type.category == 'bus'):
        return
    
    transaction.on_commit(
        lambda: _process_fee_payment_sync(instance, kwargs.get('user'))
    )
```

#### Signal: post_delete Ø¹Ù„Ù‰ FeePayment (Ù…Ø­ÙƒÙˆÙ…)
**Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯:** `students/signals/governed_payment_signals.py`

```python
@critical_signal_handler(
    "payment_deletion_academic_sync",
    "Sync academic status when payment is deleted using PaymentService"
)
@receiver(post_delete, sender=FeePayment)
def sync_academic_status_on_payment_deletion_governed(sender, instance, **kwargs):
    """
    Ø¥Ø´Ø§Ø±Ø© Ù…Ø­ÙƒÙˆÙ…Ø© Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø¹Ù†Ø¯ Ø­Ø°Ù Ø§Ù„Ø¯ÙØ¹Ø©
    
    Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©:
    1. Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©
    2. ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©
    3. Ø¥Ø¹Ø§Ø¯Ø© Ø­Ø³Ø§Ø¨ Ø£Ø±ØµØ¯Ø© ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±
    4. ØªØ³Ø¬ÙŠÙ„ Ù…ÙØµÙ„ Ù„Ù„ØªØºÙŠÙŠØ±Ø§Øª
    """
    transaction.on_commit(
        lambda: _process_payment_deletion_sync(instance, kwargs.get('user'))
    )
```

### Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡

| Ø§Ù„Ù…Ø¤Ø´Ø± | Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… | Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯ | Ø§Ù„ØªØ­Ø³Ù† |
|---------|---------------|---------------|---------|
| **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹Ø©** | 400ms | 126ms | 68.5% |
| **Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø±Ø³ÙˆÙ…** | 250ms | 85ms | 66% |
| **ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø±ØµØ¯Ø©** | 180ms | 60ms | 67% |
| **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡** | Ø£Ø³Ø§Ø³ÙŠØ© | Ø´Ø§Ù…Ù„Ø© | - |
| **Ø§Ù„ØªØ³Ø¬ÙŠÙ„** | Ù…Ø­Ø¯ÙˆØ¯ | Ø´Ø§Ù…Ù„ | - |

### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ© ÙˆØ§Ù„Ù…Ø³ØªØ¨Ø¯Ù„Ø©

#### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ© (Phase 2 Cleanup):
1. **`financial/signals/fee_sync_signals.py`** âŒ
2. **`students/signals_payment_sync.py`** âŒ  
3. **`financial/signals/payment_sync_signals.py`** âŒ

#### Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:
1. **`financial/signals/governed_fee_signals.py`** âœ…
2. **`students/signals/governed_payment_signals.py`** âœ…
3. **`students/services/fee_service.py`** âœ…
4. **`students/services/payment_service.py`** âœ…

### Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯

```python
# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
from financial.signals.governed_fee_signals import get_signal_performance_metrics
from students.signals.governed_payment_signals import get_payment_signal_performance_metrics

# Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ…
fee_metrics = get_signal_performance_metrics()
print(f"Ø®Ø¯Ù…Ø©: {fee_metrics['service_name']}")
print(f"Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ù†Ø´Ø·Ø©: {len(fee_metrics['handlers'])}")

# Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª  
payment_metrics = get_payment_signal_performance_metrics()
print(f"Ø¯ÙØ¹Ø§Øª Ù…Ø­Ø°ÙˆÙØ© Ø¢Ø®Ø± 24 Ø³Ø§Ø¹Ø©: {payment_metrics['recent_activity']['payment_deletions_processed_24h']}")

# ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (Ù„Ù… ØªØ¹Ø¯ Ù…Ø·Ù„ÙˆØ¨Ø© - ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù„ÙØ§Øª)
from students.signals.governed_payment_signals import disable_legacy_payment_signals
result = disable_legacy_payment_signals()
print(f"Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©: {result['message']}")
```

---

## Ø¯Ù…Ø¬ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª

### Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
```
StudentFee (Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ÙˆØ­Ø¯Ø©)
    â†“
    â”œâ”€ FeePayment (Ø§Ù„Ø¯ÙØ¹Ø§Øª)
    â”‚   â†“
    â”‚   â””â”€ ProductPayment (ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¯ÙØ¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª)
    â”‚       â†“
    â”‚       â””â”€ ProductRequest (Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬)
    â”‚
    â””â”€ ProductRequest (Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª)
        â†“
        â””â”€ Product (Ø§Ù„Ù…Ù†ØªØ¬)
```

### ØªØ¯ÙÙ‚ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ
```
1. DetailedPaymentView.get()
   - Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ù€ StudentFee
   - Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙÙˆØ¹ ÙˆØ§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„ÙƒÙ„ Ù…Ù†ØªØ¬

2. DetailedPaymentView.post()
   - Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙØ¹Ø©
   - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø¨Ø§Ù„Øº
   - Ø¥Ù†Ø´Ø§Ø¡ FeePayment

3. ProductPaymentProcessor.process_detailed_payment()
   - ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¯ÙØ¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
   - Ø¥Ù†Ø´Ø§Ø¡ ProductPayment Ù„ÙƒÙ„ Ù…Ù†ØªØ¬
   - ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© ÙƒÙ„ Ù…Ù†ØªØ¬

4. ØªØ­Ø¯ÙŠØ« StudentFee
   - Ø­Ø³Ø§Ø¨ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹
   - ØªØ­Ø¯ÙŠØ« status
```

### Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ
```python
# 1. Ø¹Ø±Ø¶ Ø§Ù„Ø¯ÙØ¹ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ
GET /student_products/detailed_payment/1/2/
# ÙŠØ¹Ø±Ø¶:
# - StudentFee (Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ÙˆØ­Ø¯Ø©)
# - ProductRequest[] (Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø©)
# - Ù„ÙƒÙ„ Ù…Ù†ØªØ¬: Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØŒ Ø§Ù„Ù…Ø¯ÙÙˆØ¹ØŒ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ

# 2. Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯ÙØ¹Ø©
POST /student_products/detailed_payment/1/2/
{
    'selected_products': ['1', '2', '3'],
    'payment_amount_1': '500.00',
    'payment_amount_2': '300.00',
    'payment_amount_3': '200.00',
    'payment_method': 'cash',
    'payment_notes': 'Ø¯ÙØ¹Ø© Ø¬Ø²Ø¦ÙŠØ©'
}

# 3. Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
# - Ø¥Ù†Ø´Ø§Ø¡ FeePayment Ø¨Ù…Ø¨Ù„Øº 1000.00
# - Ø¥Ù†Ø´Ø§Ø¡ ProductPayment Ù„ÙƒÙ„ Ù…Ù†ØªØ¬
# - ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© ÙƒÙ„ ProductRequest
# - ØªØ­Ø¯ÙŠØ« StudentFee.status

# 4. Ø§Ù„Ù†ØªÙŠØ¬Ø©
# - StudentFee.status = 'partially_paid'
# - ProductRequest[1].payment_status = 'partially_paid'
# - ProductRequest[2].payment_status = 'paid'
# - ProductRequest[3].payment_status = 'paid'
```

---

## Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„ØµÙŠØº

### Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚
```python
outstanding_amount = total_amount - paid_amount - completed_settlements_amount
```

### Ø­Ø³Ø§Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙ‚Ø¯Ù…
```python
payment_progress_percentage = (paid_amount + settlements_amount) / total_amount * 100
```

### Ø­Ø³Ø§Ø¨ Ù…Ø¨Ù„Øº Ø§Ù„Ù‚Ø³Ø·
```python
installment_amount = remaining_amount / installments_count
# Ø­ÙŠØ«: remaining_amount = total_amount - down_payment
```

### Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ù‚Ø³Ø§Ø· Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø©
```python
paid_installments = int(paid_amount / installment_amount)
remaining_installments = installments_count - paid_installments
```

---

## Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª

### 1. Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³ÙˆÙ… Ø¬Ø¯ÙŠØ¯Ø©
```python
# âœ… ØµØ­ÙŠØ­
fee = StudentFee.objects.create(
    student=student,
    fee_type=fee_type,
    academic_year=academic_year,
    total_amount=Decimal('5000.00'),
    due_date=date.today(),
    created_by=user
)
# Ø³ÙŠØªÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:
# - Ø¥Ù†Ø´Ø§Ø¡ InstallmentPlan
# - Ø¥Ù†Ø´Ø§Ø¡ JournalEntry
# - Ø±Ø¨Ø· Ø§Ù„Ù‚ÙŠØ¯ Ø¨Ù€ StudentFee

# âŒ Ø®Ø·Ø£ - Ø¹Ø¯Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙƒØ±Ø§Ø±
fee1 = StudentFee.objects.create(...)
fee2 = StudentFee.objects.create(...)  # Ø³ÙŠÙØ´Ù„ - unique_together
```

### 2. Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹Ø©
```python
# âœ… ØµØ­ÙŠØ­
payment = FeePayment.objects.create(
    student_fee=fee,
    amount=Decimal('1500.00'),
    payment_date=date.today(),
    payment_method='cash',
    created_by=user
)
# Ø³ÙŠØªÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹:
# - Ø¥Ù†Ø´Ø§Ø¡ JournalEntry
# - ØªØ­Ø¯ÙŠØ« StudentFee.status
# - ØªØ´ØºÙŠÙ„ Signal

# âŒ Ø®Ø·Ø£ - Ø¹Ø¯Ù… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¨Ù„Øº
payment = FeePayment.objects.create(
    student_fee=fee,
    amount=Decimal('10000.00'),  # Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…Ø³ØªØ­Ù‚
    ...
)  # Ø³ÙŠÙØ´Ù„ ÙÙŠ clean()
```

### 3. Ø¹Ù†Ø¯ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©
```python
# âœ… ØµØ­ÙŠØ­
result = ProductPaymentProcessor.process_detailed_payment(
    student_fee=fee,
    payment_allocations=[
        {'product_request_id': 1, 'amount': Decimal('500.00')},
        {'product_request_id': 2, 'amount': Decimal('300.00')},
    ],
    payment_entry=fee_payment,
    user=user
)

if result['success']:
    # ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    fee.refresh_from_db()
    # Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
else:
    # Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®Ø·Ø£
    print(result['message'])
```

---

## Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„Ø±Ø³ÙˆÙ… Ù„Ø§ ØªÙØ­Ø¯Ù‘Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
**Ø§Ù„Ø³Ø¨Ø¨:** Signal Ù„Ù… ÙŠØªÙ… ØªØ´ØºÙŠÙ„Ù‡
**Ø§Ù„Ø­Ù„:**
```python
# ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Signal ÙÙŠ signals_payment_sync.py
# ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªÙŠØ±Ø§Ø¯ Signal ÙÙŠ apps.py
# ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ ready() ÙÙŠ AppConfig
```

### Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© ØºÙŠØ± Ù…ØªÙˆØ§Ø²Ù†Ø©
**Ø§Ù„Ø³Ø¨Ø¨:** Ø¹Ø¯Ù… ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ù…Ø¯ÙŠÙ† ÙˆØ§Ù„Ø¯Ø§Ø¦Ù†
**Ø§Ù„Ø­Ù„:**
```python
# ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù…Ø¯ÙŠÙ† = Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¯Ø§Ø¦Ù†
# Ø§Ø³ØªØ®Ø¯Ù… JournalEntry.validate_balance()
```

### Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© Ù„Ø§ ØªÙØ­ÙØ¸
**Ø§Ù„Ø³Ø¨Ø¨:** Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø¨Ø§Ù„Øº
**Ø§Ù„Ø­Ù„:**
```python
# ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù…Ø¨Ø§Ù„Øº = Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ
# ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† ÙƒÙ„ Ù…Ø¨Ù„Øº <= Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ù…Ù†ØªØ¬
```

---

## Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

| Ø§Ù„Ù…Ù„Ù | Ø§Ù„ÙˆØµÙ |
|------|-------|
| `students/models.py` | StudentFee, FeePayment, InstallmentPlan |
| `financial/models/journal_entry.py` | JournalEntry, JournalEntryLine |
| `financial/models/chart_of_accounts.py` | ChartOfAccounts |
| `financial/services/journal_service.py` | JournalEntryService |
| `financial/services/payment_integration_service.py` | PaymentIntegrationService |
| `financial/services/accounting_integration_service.py` | AccountingIntegrationService |
| `student_products/processors.py` | ProductPaymentProcessor |
| `students/signals_payment_sync.py` | Signals Ù„Ù„Ù…Ø²Ø§Ù…Ù†Ø© |
| `student_products/views_payment.py` | DetailedPaymentView |


---

## ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© - Phase 2 Service Interfaces

### FeeService API Reference

#### Ø§Ù„Ù…ÙˆÙ‚Ø¹: `students/services/fee_service.py`

```python
class FeeService:
    """Ø®Ø¯Ù…Ø© Ù…ÙˆØ­Ø¯Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø±Ø³ÙˆÙ…"""
    
    def create_fees_for_enrollment(self, student, academic_year, user=None):
        """
        Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³ÙˆÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨ Ø¹Ù†Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„
        
        Args:
            student: ÙƒØ§Ø¦Ù† Ø§Ù„Ø·Ø§Ù„Ø¨
            academic_year: Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©
            user: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†ÙØ° Ù„Ù„Ø¹Ù…Ù„ÙŠØ©
            
        Returns:
            dict: {
                'success': bool,
                'fees_created': List[StudentFee],
                'total_amount': Decimal,
                'message': str
            }
        """
        
    def calculate_outstanding_fees(self, student, fee_types=None):
        """
        Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø¨Ø§Ù„Øº Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø© Ù„Ù„Ø·Ø§Ù„Ø¨
        
        Args:
            student: ÙƒØ§Ø¦Ù† Ø§Ù„Ø·Ø§Ù„Ø¨
            fee_types: Ù‚Ø§Ø¦Ù…Ø© Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø±Ø³ÙˆÙ… (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            
        Returns:
            dict: {
                'total_fees': Decimal,
                'paid_amount': Decimal,
                'outstanding_amount': Decimal,
                'fees_breakdown': List[dict]
            }
        """
        
    def sync_fees_with_financial(self, student_fees, user=None):
        """
        Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø±Ø³ÙˆÙ… Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø§Ù„ÙŠ
        
        Args:
            student_fees: Ù‚Ø§Ø¦Ù…Ø© Ø±Ø³ÙˆÙ… Ø§Ù„Ø·Ù„Ø§Ø¨
            user: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†ÙØ° Ù„Ù„Ø¹Ù…Ù„ÙŠØ©
            
        Returns:
            dict: {
                'success': bool,
                'synced_count': int,
                'failed_count': int,
                'errors': List[str]
            }
        """
        
    def get_parent_financial_summary(self, parent):
        """
        Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ø®Øµ Ù…Ø§Ù„ÙŠ Ø´Ø§Ù…Ù„ Ù„ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±
        
        Args:
            parent: ÙƒØ§Ø¦Ù† ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±
            
        Returns:
            dict: {
                'total_fees': Decimal,
                'total_paid': Decimal,
                'total_outstanding': Decimal,
                'students_summary': List[dict],
                'recent_payments': List[dict]
            }
        """
```

### PaymentService API Reference

#### Ø§Ù„Ù…ÙˆÙ‚Ø¹: `students/services/payment_service.py`

```python
class PaymentService:
    """Ø®Ø¯Ù…Ø© Ù…ÙˆØ­Ø¯Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¬Ù…ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª"""
    
    def __init__(self, enable_audit=True):
        """
        ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø®Ø¯Ù…Ø©
        
        Args:
            enable_audit: ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„
        """
        
    def process_payment(self, student_fee, amount, payment_date, user, **kwargs):
        """
        Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ø¹ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø§Ù…Ù„
        
        Args:
            student_fee: Ø±Ø³ÙˆÙ… Ø§Ù„Ø·Ø§Ù„Ø¨
            amount: Ù…Ø¨Ù„Øº Ø§Ù„Ø¯ÙØ¹Ø©
            payment_date: ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹
            user: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†ÙØ°
            **kwargs: Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (payment_method, reference_number, etc.)
            
        Returns:
            dict: {
                'success': bool,
                'payment': FeePayment,
                'journal_entry': JournalEntry,
                'academic_status_updated': bool,
                'balance_updated': bool,
                'message': str
            }
        """
        
    def process_refund(self, original_payment, refund_amount, reason, user):
        """
        Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ù…Ø¹ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©
        
        Args:
            original_payment: Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©
            refund_amount: Ù…Ø¨Ù„Øº Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
            reason: Ø³Ø¨Ø¨ Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯
            user: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†ÙØ°
            
        Returns:
            dict: {
                'success': bool,
                'refund_payment': FeePayment,
                'journal_entry': JournalEntry,
                'academic_status_updated': bool,
                'message': str
            }
        """
        
    def update_balances(self, payment, user, governance_context=None):
        """
        ØªØ­Ø¯ÙŠØ« Ø£Ø±ØµØ¯Ø© ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± ÙˆØ§Ù„Ø·Ø§Ù„Ø¨
        
        Args:
            payment: ÙƒØ§Ø¦Ù† Ø§Ù„Ø¯ÙØ¹Ø©
            user: Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù†ÙØ°
            governance_context: Ø³ÙŠØ§Ù‚ Ø§Ù„Ø­ÙˆÙƒÙ…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            
        Returns:
            dict: {
                'success': bool,
                'parent_balance_updated': bool,
                'student_balance_updated': bool,
                'new_balances': dict,
                'message': str
            }
        """
```

### Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠ

#### 1. Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³ÙˆÙ… Ù„Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯

```python
from students.services.fee_service import FeeService

# Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø© Ø§Ù„Ø±Ø³ÙˆÙ…
fee_service = FeeService()

# Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³ÙˆÙ… ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
result = fee_service.create_fees_for_enrollment(
    student=student_obj,
    academic_year=academic_year_2025,
    user=request.user
)

if result['success']:
    print(f"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ {len(result['fees_created'])} Ø±Ø³ÙˆÙ… Ø¨Ø¥Ø¬Ù…Ø§Ù„ÙŠ {result['total_amount']} Ø¬Ù†ÙŠÙ‡")
    for fee in result['fees_created']:
        print(f"- {fee.fee_type.name}: {fee.total_amount} Ø¬Ù†ÙŠÙ‡")
else:
    print(f"ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³ÙˆÙ…: {result['message']}")
```

#### 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©

```python
from students.services.payment_service import PaymentService

# Ø¥Ù†Ø´Ø§Ø¡ Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª Ù…Ø¹ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„
payment_service = PaymentService(enable_audit=True)

# Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø© Ù†Ù‚Ø¯ÙŠØ©
result = payment_service.process_payment(
    student_fee=student_fee_obj,
    amount=Decimal('1500.00'),
    payment_date=date.today(),
    payment_method='cash',
    reference_number='CASH001',
    notes='Ø¯ÙØ¹Ø© Ù†Ù‚Ø¯ÙŠØ© Ù…Ù† ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±',
    user=request.user
)

if result['success']:
    payment = result['payment']
    print(f"ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯ÙØ¹Ø© {payment.id} Ø¨Ù…Ø¨Ù„Øº {payment.amount} Ø¬Ù†ÙŠÙ‡")
    print(f"Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ: {result['journal_entry'].number}")
    
    if result['academic_status_updated']:
        print("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù„Ù„Ø·Ø§Ù„Ø¨")
        
    if result['balance_updated']:
        print("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø±ØµÙŠØ¯ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±")
else:
    print(f"ÙØ´Ù„ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹Ø©: {result['message']}")
```

#### 3. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯

```python
# Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø¬Ø²Ø¦ÙŠ
refund_result = payment_service.process_refund(
    original_payment=payment_obj,
    refund_amount=Decimal('500.00'),
    reason='Ø·Ù„Ø¨ ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± - Ø¸Ø±ÙˆÙ Ø®Ø§ØµØ©',
    user=request.user
)

if refund_result['success']:
    refund = refund_result['refund_payment']
    print(f"ØªÙ… Ø§Ø³ØªØ±Ø¯Ø§Ø¯ {refund.amount} Ø¬Ù†ÙŠÙ‡")
    print(f"Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ù„Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯: {refund_result['journal_entry'].number}")
else:
    print(f"ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø§Ø³ØªØ±Ø¯Ø§Ø¯: {refund_result['message']}")
```

#### 4. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ø®Øµ Ù…Ø§Ù„ÙŠ Ù„ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±

```python
# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ø®Øµ Ø´Ø§Ù…Ù„
summary = fee_service.get_parent_financial_summary(parent_obj)

print(f"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø³ÙˆÙ…: {summary['total_fees']} Ø¬Ù†ÙŠÙ‡")
print(f"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹: {summary['total_paid']} Ø¬Ù†ÙŠÙ‡")
print(f"Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: {summary['total_outstanding']} Ø¬Ù†ÙŠÙ‡")

print("\nÙ…Ù„Ø®Øµ Ø§Ù„Ø·Ù„Ø§Ø¨:")
for student_summary in summary['students_summary']:
    print(f"- {student_summary['student_name']}: Ù…ØªØ¨Ù‚ÙŠ {student_summary['outstanding']} Ø¬Ù†ÙŠÙ‡")

print(f"\nØ¢Ø®Ø± {len(summary['recent_payments'])} Ø¯ÙØ¹Ø§Øª:")
for payment in summary['recent_payments']:
    print(f"- {payment['date']}: {payment['amount']} Ø¬Ù†ÙŠÙ‡ ({payment['student_name']})")
```

#### 5. Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª Ø¨Ø§Ù„ØªÙØµÙŠÙ„

```python
# Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø§Øª Ù„Ø£Ù†ÙˆØ§Ø¹ Ø±Ø³ÙˆÙ… Ù…Ø­Ø¯Ø¯Ø©
outstanding = fee_service.calculate_outstanding_fees(
    student=student_obj,
    fee_types=['tuition', 'transportation', 'activities']
)

print(f"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø³ÙˆÙ…: {outstanding['total_fees']} Ø¬Ù†ÙŠÙ‡")
print(f"Ø§Ù„Ù…Ø¯ÙÙˆØ¹: {outstanding['paid_amount']} Ø¬Ù†ÙŠÙ‡")
print(f"Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: {outstanding['outstanding_amount']} Ø¬Ù†ÙŠÙ‡")

print("\nØªÙØµÙŠÙ„ Ø§Ù„Ø±Ø³ÙˆÙ…:")
for fee_detail in outstanding['fees_breakdown']:
    print(f"- {fee_detail['fee_type']}: {fee_detail['outstanding']} Ø¬Ù†ÙŠÙ‡ Ù…Ù† Ø£ØµÙ„ {fee_detail['total']}")
```

### Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØ§Ù„Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª

```python
from students.exceptions import StudentValidationError, PaymentProcessingError

try:
    # Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø©
    result = payment_service.process_payment(
        student_fee=fee_obj,
        amount=Decimal('2000.00'),  # Ù…Ø¨Ù„Øº Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…Ø³ØªØ­Ù‚
        payment_date=date.today(),
        user=request.user
    )
    
except StudentValidationError as e:
    print(f"Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚: {e.user_message}")
    print(f"Ø§Ù„ØªÙØ§ØµÙŠÙ„: {e.details}")
    
except PaymentProcessingError as e:
    print(f"Ø®Ø·Ø£ ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¯ÙØ¹Ø©: {e.user_message}")
    print(f"ÙƒÙˆØ¯ Ø§Ù„Ø®Ø·Ø£: {e.error_code}")
    
except Exception as e:
    print(f"Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹: {e}")
```

### ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­ÙƒÙˆÙ…

```python
# Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù„Ø­ÙˆÙƒÙ…Ø©
from governance.services.service_governance import governed_service

@governed_service(critical=True)
def process_bulk_payments(payments_data, user):
    """Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø§Øª Ø¬Ù…Ø§Ø¹ÙŠØ© Ù…Ø¹ Ø§Ù„Ø­ÙˆÙƒÙ…Ø©"""
    
    payment_service = PaymentService(enable_audit=True)
    results = []
    
    for payment_data in payments_data:
        try:
            result = payment_service.process_payment(
                student_fee=payment_data['student_fee'],
                amount=payment_data['amount'],
                payment_date=payment_data['date'],
                user=user
            )
            results.append(result)
            
        except Exception as e:
            results.append({
                'success': False,
                'error': str(e),
                'student_fee_id': payment_data['student_fee'].id
            })
    
    return {
        'total_processed': len(results),
        'successful': len([r for r in results if r['success']]),
        'failed': len([r for r in results if not r['success']]),
        'results': results
    }
```

---

## Ø§Ù„Ø®Ù„Ø§ØµØ© ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª

### Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù…Ø­Ù‚Ù‚Ø© Ù…Ù† Phase 2

1. **ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ÙƒØ¨ÙŠØ±**: 68.5% ØªØ­Ø³Ù† ÙÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª
2. **Ø­ÙˆÙƒÙ…Ø© Ø´Ø§Ù…Ù„Ø©**: ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„ ÙÙŠ Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ù…Ø¹ kill switches
3. **ØªØ³Ø¬ÙŠÙ„ Ù…ÙØµÙ„**: audit logging Ø´Ø§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
4. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø£Ø®Ø·Ø§Ø¡ Ù…ØªÙ‚Ø¯Ù…Ø©**: Ø§Ø³ØªØ±Ø¯Ø§Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙˆØªØ³Ø¬ÙŠÙ„ Ù…ÙØµÙ„ Ù„Ù„Ø£Ø®Ø·Ø§Ø¡
5. **ÙˆØ§Ø¬Ù‡Ø§Øª Ù…ÙˆØ­Ø¯Ø©**: Ø®Ø¯Ù…Ø§Øª Ù…Ø±ÙƒØ²ÙŠØ© Ø³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±

### Ø§Ù„ØªÙˆØµÙŠØ§Øª Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

1. **Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©**: FeeService Ùˆ PaymentService Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù…Ø¹ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
2. **ÙØ¹Ù‘Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„**: Ø§Ø³ØªØ®Ø¯Ù… `enable_audit=True` ÙÙŠ Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©
3. **Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ø¯Ø§Ø¡**: Ø§Ø³ØªØ®Ø¯Ù… Ø¯ÙˆØ§Ù„ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù„Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø­ÙƒÙˆÙ…Ø©
4. **Ø§Ø®ØªØ¨Ø± Ø§Ù„Ø§Ø³ØªØ«Ù†Ø§Ø¡Ø§Øª**: ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©
5. **Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­ÙˆÙƒÙ…Ø©**: Ø·Ø¨Ù‚ `@governed_service` Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø±Ø¬Ø©

### Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© (Phase 3)

1. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©**: ØªØ·Ø¨ÙŠÙ‚ Ù†ÙØ³ Ø§Ù„Ù†Ù…Ø· Ø¹Ù„Ù‰ academic/signals.py
2. **Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ù…Ù†Ø®ÙØ¶Ø© Ø§Ù„Ù…Ø®Ø§Ø·Ø±**: product/signals/ ÙˆØºÙŠØ±Ù‡Ø§
3. **ØªÙ†Ø¸ÙŠÙ Ø´Ø§Ù…Ù„**: Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù‚Ø¯ÙŠÙ… ÙˆØ§Ù„Ù…Ù„ÙØ§Øª ØºÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©
4. **ØªÙˆØ«ÙŠÙ‚ Ø´Ø§Ù…Ù„**: ØªØ­Ø¯ÙŠØ« Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ Ù„ØªØ¹ÙƒØ³ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

---

*ØªÙ… ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ø§ Ø§Ù„ØªÙˆØ«ÙŠÙ‚ ÙÙŠ Ø¥Ø·Ø§Ø± Phase 2 Migration - ÙŠÙ†Ø§ÙŠØ± 2025*