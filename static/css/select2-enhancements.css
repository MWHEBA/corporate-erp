/**
 * ========================================
 * Select2 Unified Styles for Corporate ERP
 * ========================================
 * 
 * ملف موحد لجميع تنسيقات Select2 في النظام
 * يطابق تماماً تنسيق form-control العادي
 * 
 * الأقسام:
 * 1. Basic Select2 Styles (التنسيقات الأساسية)
 * 2. RTL Support (دعم العربية)
 * 3. Focus & Disabled States (حالات التركيز والتعطيل)
 * 4. Dropdown Styles (تنسيق القائمة المنسدلة)
 * 5. Search Field (حقل البحث)
 * 6. Results & Options (النتائج والخيارات)
 * 7. Multiple Selection (الاختيار المتعدد)
 * 8. Special Components (مكونات خاصة)
 * ========================================
 */

/* ========================================
   1. BASIC SELECT2 STYLES (التنسيقات الأساسية)
   ======================================== */


/* تنسيق Select2 ليطابق form-control العادي */
.select2-container--default .select2-selection--single,
.select2-container--bootstrap-5 .select2-selection--single {
    height: var(--form-input-height) !important;
    padding: var(--form-input-padding) !important;
    font-size: var(--font-size-base) !important;
    line-height: var(--line-height-normal) !important;
    color: var(--text-color) !important;
    background-color: var(--form-input-bg) !important;
    border: var(--form-input-border) !important;
    border-radius: var(--border-radius) !important;
    font-family: var(--font-family-sans) !important;
    box-sizing: border-box !important;
}

.select2-container--default .select2-selection--single .select2-selection__placeholder,
.select2-container--bootstrap-5 .select2-selection--single .select2-selection__placeholder {
    color: var(--text-light) !important;
}

/* ========================================
   2. RTL SUPPORT (دعم العربية)
   ======================================== */

.select2-container--default .select2-selection--single .select2-selection__arrow,
.select2-container--bootstrap-5 .select2-selection--single .select2-selection__arrow {
    height: calc(var(--form-input-height) - 2px) !important;
    top: 1px !important;
    left: 1px !important;
    right: auto !important;
}

.select2-container--bootstrap-5 .select2-selection {
    direction: rtl;
    text-align: right;
}

.select2-container--bootstrap-5 .select2-selection__clear,
.select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__clear,
.select2-container--bootstrap-5 .select2-selection--single .select2-selection__clear {
    right: unset;
    left: 20px;
}

/* ========================================
   3. FOCUS & DISABLED STATES (حالات التركيز والتعطيل)
   ======================================== */

.select2-container--default.select2-container--focus .select2-selection--single,
.select2-container--bootstrap-5.select2-container--focus .select2-selection--single,
.select2-container--open .select2-selection--single {
    border-color: var(--primary-color) !important;
    outline: 0 !important;
    box-shadow: 0 0 0 0.2rem var(--primary-focus) !important;
}

.select2-container--default.select2-container--disabled .select2-selection--single,
.select2-container--bootstrap-5.select2-container--disabled .select2-selection--single {
    background-color: var(--form-input-bg-disabled) !important;
    cursor: not-allowed !important;
}

/* ========================================
   4. DROPDOWN STYLES (تنسيق القائمة المنسدلة)
   ======================================== */

.select2-dropdown {
    border: var(--form-input-border) !important;
    border-radius: var(--border-radius) !important;
    box-shadow: var(--shadow-md) !important;
    direction: rtl !important;
}

/* ========================================
   5. SEARCH FIELD (حقل البحث)
   ======================================== */

.select2-container--default .select2-search--dropdown .select2-search__field,
.select2-search--dropdown .select2-search__field {
    padding: var(--form-input-padding) !important;
    font-size: var(--font-size-base) !important;
    border: var(--form-input-border) !important;
    border-radius: var(--border-radius) !important;
    direction: rtl;
    text-align: right;
}

/* ========================================
   6. RESULTS & OPTIONS (النتائج والخيارات)
   ======================================== */

.select2-container--default .select2-results__option,
.select2-container--bootstrap-5 .select2-results__option {
    padding: var(--spacing-2) var(--spacing-3) !important;
    font-size: var(--font-size-base) !important;
    color: var(--text-color) !important;
    text-align: right !important;
}

.select2-container--default .select2-results__option--highlighted[aria-selected],
.select2-container--bootstrap-5 .select2-results__option--highlighted {
    background-color: rgb(1 87 138 / 45%) !important;
    color: var(--primary-color) !important;
}

.select2-container--default .select2-results__option[aria-selected=true],
.select2-container--bootstrap-5 .select2-results__option[aria-selected=true] {
    background-color: var(--primary-color) !important;
    color: var(--white) !important;
}

.select2-container--bootstrap-5 .select2-results__option--highlighted .text-muted {
    color: rgba(255, 255, 255, 0.8) !important;
}

.select2-results__message {
    padding: var(--spacing-3);
    text-align: center;
    color: var(--text-light);
}

/* ========================================
   7. MULTIPLE SELECTION (الاختيار المتعدد)
   ======================================== */

.select2-container--default .select2-selection--multiple,
.select2-container--bootstrap-5 .select2-selection--multiple {
    min-height: var(--form-input-height) !important;
    padding: calc(var(--spacing-1) - 1px) var(--spacing-2) !important;
    border: var(--form-input-border) !important;
    border-radius: var(--border-radius) !important;
    background-color: var(--form-input-bg) !important;
}

.select2-container--default .select2-selection--multiple .select2-selection__choice,
.select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice {
    background-color: var(--primary-soft) !important;
    border: 1px solid var(--primary-color) !important;
    color: var(--primary-color) !important;
    border-radius: var(--border-radius-sm) !important;
    padding: var(--spacing-1) var(--spacing-2) !important;
    margin: var(--spacing-1) !important;
}

.select2-container--default .select2-selection--multiple .select2-selection__choice__remove,
.select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice__remove {
    color: var(--primary-color) !important;
    margin-left: var(--spacing-1) !important;
}

.select2-container--default .select2-selection--multiple .select2-selection__choice__remove:hover,
.select2-container--bootstrap-5 .select2-selection--multiple .select2-selection__choice__remove:hover {
    color: var(--danger-color) !important;
}

/* ========================================
   8. SPECIAL COMPONENTS (مكونات خاصة)
   ======================================== */

/* تحسين مظهر نتائج البحث للطلاب */
.select2-result-student {
    display: flex;
    align-items: center;
    padding: var(--spacing-2) var(--spacing-3);
}

.select2-result-student .student-details {
    flex: 1;
}

.select2-result-student .student-name {
    font-weight: var(--font-weight-medium);
    margin-bottom: 2px;
    color: var(--text-dark);
}

.select2-result-student small {
    display: block;
    font-size: var(--font-size-sm);
    color: var(--text-light);
}