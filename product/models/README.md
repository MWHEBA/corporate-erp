# تنظيم نماذج المنتجات - Product Models Organization

## نظرة عامة
تم إعادة تنظيم نماذج المنتجات لتحسين القابلية للصيانة والوضوح. تم تقسيم النماذج إلى ملفات منطقية منفصلة بدلاً من ملف واحد كبير.

## هيكل الملفات

### الملفات الأساسية

#### `product_core.py`
**النماذج الأساسية للمنتجات**
- `Category` - تصنيفات المنتجات
- `Unit` - وحدات القياس  
- `Product` - المنتجات الرئيسية
- `ProductImage` - صور المنتجات
- `ProductVariant` - متغيرات المنتجات
- `BundleComponent` - مكونات المنتجات المجمعة

#### `stock_management.py`
**إدارة المخزون**
- `Warehouse` - المخازن
- `Stock` - المخزون الموحد
- `StockMovement` - حركات المخزون

#### `supplier_pricing.py`
**أسعار الموردين**
- `SupplierProductPrice` - أسعار المنتجات للموردين
- `PriceHistory` - تاريخ تغيير الأسعار

#### `system_utils.py`
**الأدوات النظامية**
- `SerialNumber` - الأرقام التسلسلية للمستندات

### الملفات المحسنة (اختيارية)

#### `warehouse.py`
**إدارة المخازن المحسنة**
- `StockTransfer` - تحويل المخزون بين المخازن
- `StockSnapshot` - لقطات المخزون

#### `inventory_movement.py`
**حركات المخزون المتقدمة**
- `InventoryMovement` - حركات المخزون المتقدمة
- `InventoryAdjustment` - تسويات المخزون
- `InventoryAdjustmentItem` - بنود تسوية المخزون

#### `reservation_system.py`
**نظام حجز المخزون**
- `StockReservation` - حجوزات المخزون
- `ReservationFulfillment` - تنفيذ الحجوزات
- `ReservationRule` - قواعد الحجز

#### `expiry_tracking.py`
**تتبع انتهاء الصلاحية**
- `ProductBatch` - دفعات المنتجات
- `BatchConsumption` - استهلاك الدفعات
- `BatchReservation` - حجز الدفعات
- `ExpiryAlert` - تنبيهات انتهاء الصلاحية
- `ExpiryRule` - قواعد انتهاء الصلاحية

#### `location_system.py`
**نظام المواقع داخل المخازن**
- `LocationZone` - مناطق المخزن
- `LocationAisle` - ممرات المخزن
- `LocationShelf` - أرفف المخزن
- `ProductLocation` - مواقع المنتجات
- `LocationMovement` - حركات المواقع
- `LocationTask` - مهام المواقع

## الاستيراد

### الاستيراد المباشر
```python
from product.models import Product, Category, Unit, Warehouse, Stock
```

### الاستيراد من ملف محدد
```python
from product.models.product_core import Product, Category
from product.models.stock_management import Warehouse, Stock
from product.models.supplier_pricing import SupplierProductPrice
```

## المزايا

### 1. **تنظيم أفضل**
- كل مجموعة من النماذج في ملف منفصل
- سهولة العثور على النماذج المطلوبة
- تقليل التعقيد في كل ملف

### 2. **قابلية الصيانة**
- تعديل نموذج معين لا يؤثر على الملفات الأخرى
- سهولة إضافة نماذج جديدة
- تقليل تضارب التعديلات في Git

### 3. **الوضوح**
- كل ملف له غرض واضح ومحدد
- أسماء الملفات تعكس محتواها
- تجميع النماذج المترابطة معاً

### 4. **المرونة**
- إمكانية تحميل النماذج المحسنة اختيارياً
- عدم كسر الكود الموجود
- سهولة التوسع المستقبلي

## التوافق مع الإصدارات السابقة

تم الحفاظ على التوافق الكامل مع الكود الموجود:
- جميع الاستيرادات السابقة تعمل بنفس الطريقة
- لا حاجة لتعديل الكود الموجود
- النماذج متاحة بنفس الأسماء والخصائص

## ملاحظات مهمة

1. **ملف `__init__.py`** يحتوي على جميع الاستيرادات اللازمة
2. **النماذج المحسنة** اختيارية ولا تؤثر على النماذج الأساسية
3. **المراجع المتبادلة** تم حلها باستخدام الاستيراد المحلي
4. **الفهارس والقيود** محفوظة كما هي

## التطوير المستقبلي

يمكن إضافة ملفات جديدة للنماذج المتخصصة:
- `quality_control.py` - نماذج مراقبة الجودة
- `analytics.py` - نماذج التحليلات والتقارير
- `integration.py` - نماذج التكامل مع الأنظمة الخارجية

---

**تاريخ التحديث:** يناير 2026  
**الإصدار:** 2.0  
**المطور:** فريق تطوير نظام إدارة المدارس